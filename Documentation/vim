
	0 或 s: 查找本 C 符号
	1 或 g: 查找本定义
	2 或 d: 查找本函数调用的函数
	3 或 c: 查找调用本函数的函数
	4 或 t: 查找本字符串
	6 或 e: 查找本 egrep 模式
	7 或 f: 查找本文件
	8 或 i: 查找包含本文件的文件


常用cvim快捷键

记录一些我常用的快捷键，方便自己查阅

添加main函数：
\im

添加函数注释：
\cfu

添加注释框：
\cfr

包含头文件：
\p<
\p"

保存并编译文件：
\rc

运行：
\rr

bufexplorer 插件

使用一个vim打开多个文件，bufexplorer才起作用。如果只打开了一个文件file1，就运行:vim file2再打开一个文件，注意不是:!vim file2；
输入\be，\bv或\bs都可以激活bufexplorer；
j,k可以上下移动光标；
按回车打开光标所在的文件；
如果窗口被分割为两个子窗口，分别打开file1和file2，此时光标在file1中，如果想切换到file2中，可以先\be激活bufexplorer，然后移动光标到file2，按t即可跳转到file2；


NERD_tree插件！
2008-06-27 17:00o 打开关闭文件或者目录
t 在标签页中打开
T 在后台标签页中打开
! 执行此文件
p 到上层目录
P 到根目录
K 到第一个节点
J 到最后一个节点
u 打开上层目录
m 显示文件系统菜单（添加、删除、移动操作）
? 帮助
q 关闭

命令模式下 输入   :NERDTreeToggle 用于打开关闭，
但这样比较麻烦，我们可以在 vimrc中映射一个快捷键，

在vimrc中加入
"==== F3 NERDTree 切换
map <F3> :NERDTreeToggle<CR>
imap <F3> <ESC>:NERDTreeToggle<CR>
这样我们就能用 F3来打开或关闭了


cscope
建立符号数据库
-----------------------------------
(1) 我们假设我们要阅读的代码放在D:\src\myproject下。然后打开命令行，进入源代码所在的目录，为cscope建立搜索文件列表。在命令行中执行以下命令：
D:\soft\vxwork_src>dir /s /b *.c *.h > cscope.files
D:\soft\vxwork_src>cscope -b
执行结束后你可以在当前目录下发现cscope.out文件，这就是cscope建立的符号数据库。上面这个命令中，-b参数使得cscope不启动自带的用户界面，而仅仅建立符号数据库。

(2) 编辑D:\Program Files\Vim\_vimrc，添加如下内容。
cs a D:\soft\vxwork_src\cscope.out

如果你的源代码是C++，则可以将cpp等扩展名也加入到上面的命令中。
dir /s /b *.c *.h *cpp *.hpp > cscope.files

如果是Linux用户，则可以使用find命令实现同样的功能：
find $(pwd) -name "*.[ch]"




替换^M字符
在Linux下使用vi来查看一些在Windows下创建的文本文件，有时会发现在行尾有一些“^M”。有几种方法可以处理。

1.使用dos2unix命令。一般的分发版本中都带有这个小工具（如果没有可以根据下面的连接去下载），使用起来很方便:
$ dos2unix myfile.txt
上面的命令会去掉行尾的^M。

2.使用vi的替换功能。启动vi，进入命令模式，输入以下命令:
:%s/^M$//g # 去掉行尾的^M。

:%s/^M//g # 去掉所有的^M。

:%s/^M/[ctrl-v]+[enter]/g # 将^M替换成回车。

:%s/^M/\r/g # 将^M替换成回车。

3.使用sed命令。和vi的用法相似：
$ sed -e ‘s/^M/\n/g’ myfile.txt

注意：这里的“^M”要使用“CTRL-V CTRL-M”生成，而不是直接键入“^M”。 












VIM中常用的替换模式总结。                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                          
1，简单替换表达式                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                          
替换命令可以在全文中用一个单词替换另一个单词：                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                          
:%s/four/4/g                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                          
“%” 范围前缀表示在所有行中执行替换。最后的 “g” 标记表示替换行中的所有匹配点。如果仅仅对当前行进行操作，那么只要去掉%即可                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                          
  如果你有一个象 “thirtyfour” 这样的单词，上面的命令会出错。这种情况下，这个单词会被替换成”thirty4″。要解决这个问题，用 “\<” 来指定匹配单词开头：                                                                                                                                                   
                                                                                                                                                                                                                                                                                                          
       :%s/\<four/4/g                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                          
显然，这样在处理 “fourty” 的时候还是会出错。用 “\>” 来解决这个问题：                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                          
       :%s/\<four\>/4/g                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                          
如果你在编码，你可能只想替换注释中的 “four”，而保留代码中的。由于这很难指定，可以在替换命令中加一个 “c” 标记，这样，Vim 会在每次替换前提示你：                                                                                                                                                        
                                                                                                                                                                                                                                                                                                          
       :%s/\<four\>/4/gc                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                          
2，删除多余的空格                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                          
要删除这些每行后面多余的空格，可以执行如下命令：                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                          
       :%s/\s\+$//                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                          
命令前面指明范围是 “%”，所以这会作用于整个文件。”substitute” 命令的匹配模式是                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                          
“\s\+$”。这表示行末（$）前的一个或者多个（\+）空格（\s）。替换命令的 “to” 部分是空的：”//”。这样就会删除那些匹配的空白字符。                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                          
3，匹配重复性模式                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                          
星号项 “*” 规定在它前面的项可以重复任意次。因此:                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                          
       /a*                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                          
匹配 “a”，”aa”，”aaa”，等等。但也匹配 “” (空字串)，因为零次也包含在内。星号 “*” 仅仅应用于那个紧邻在它前面的项。因此 “ab*” 匹配 “a”，”ab”，”abb”,”abbb”，等等。如要多次重复整个字符串，那么该字符串必须被组成一个项。组成一项的方法就是在它前面加 “\(“，后面加 “\)”。因此这个命令:
                                                                                                                                                                                                                                                                                                          
       /\(ab\)*                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                          
匹配: “ab”，”abab”，”ababab”，等等。而且也匹配 “”。                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                          
要避免匹配空字串，使用 “\+”。这表示前面一项可以被匹配一次或多次。                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                          
       /ab\+                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                          
匹配 “ab”，”abb”，”abbb”，等等。它不匹配 后面没有跟随 “b” 的 “a”。                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                          
要匹配一个可选项，用 “\=”。 例如:                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                          
       /folders\=                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                          
匹配 “folder” 和 “folders”。                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                          
4，指定重复次数                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                          
要匹配某一项的特定次数重复，使用 “\{n,m}” 这样的形式。其中 “n” 和 “m” 都是数字。在它前面的那个项将被重复 “n” 到 “m” 次 (|inclusive| 包含 “n” 和 “m”)。例如:                                                                                                                                 
                                                                                                                                                                                                                                                                                                          
       /ab\{3,5}                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                          
匹配 “abbb”，”abbbb” 以及 “abbbbb”。                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                          
  当 “n” 省略时，被默认为零。当 “m” 省略时，被默认为无限大。当 “,m” 省略时，就表示重复正好 “n” 次。例如:                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                          
       模式          匹配次数                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                          
       \{,4}           0，1，2，3 或 4                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                          
       \{3,}           3，4，5，等等                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                          
       \{0,1}          0 或 1，同 \=                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                          
       \{0,}           0 或 更多，同 *                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                          
       \{1,}           1 或 更多，同 \+                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                          
       \{3}            3                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                          
5，多选一匹配                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                          
在一个查找模式中，”或” 运算符是 “\|”。例如:                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                          
       /foo\|bar                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                          
这个命令匹配了 “foo” 或 “bar”。更多的抉择可以连在后面:                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                          
       /one\|two\|three                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                          
匹配 “one”，”two” 或 “three”。                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                          
  如要匹配其多次重复，那么整个抉择结构须置于 “\(” 和 “\)” 之间:                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                          
       /\(foo\|bar\)\+                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                          
这个命令匹配 “foo”，”foobar”，”foofoo”，”barfoobar”，等等。                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                          
  再举个例子:                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                          
       /end\(if\|while\|for\)                                                                                                                                                                                                                                                                             